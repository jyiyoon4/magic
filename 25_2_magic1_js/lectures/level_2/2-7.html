<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>스크롤 이벤트</title>
    <!-- jQuery -->
    <script
      src="https://code.jquery.com/jquery-3.7.1.min.js"
      ;
      integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <link rel="stylesheet" href="/lectures/level_2/2-7.css" />
  </head>
  <body>
    <nav class="navbar">
      <div class="logo">
        <img class="logo_img" src="../../assets/logo.svg" />
        <span class="logo_text">마법연구회</span>
      </div>
      <div class="scroll-progress"></div>
    </nav>

    <h3 style="margin-top: 90px">약관</h3>
    <div class="lorem" style="height: 200px; overflow-y: scroll">
      Lorem ipsum dolor sit amet consectetur adipisicing elit. Magni totam
      magnam, eligendi minus asperiores rem sint ut aperiam beatae inventore!
      Delectus illo veritatis, excepturi sed eum officiis, voluptatibus nam
      voluptate iste provident, vel molestias adipisci id explicabo error
      temporibus? Velit cupiditate ullam vel quis natus eveniet qui beatae vero
      non pariatur, porro facilis iste similique sint deserunt reprehenderit
      impedit recusandae nostrum incidunt dolorum amet. Fugit natus, eaque
      accusamus rem, incidunt eum exercitationem odit quia perferendis saepe ea.
      Laboriosam voluptatum nam eaque pariatur soluta. Excepturi voluptates
      blanditiis nam ea. Magni eligendi reprehenderit maxime dicta dolorum
      numquam nesciunt, aperiam odio, sit dignissimos eaque, modi et? Tempora
      possimus excepturi consequatur vero voluptatibus recusandae sint cumque
      asperiores nihil sequi consectetur, dicta iste ullam quia error voluptate
      nulla nemo provident veritatis maiores velit nobis. Consectetur saepe ab
      sunt, nostrum recusandae porro. Molestiae eveniet consectetur quod
      necessitatibus iusto. Ea odit earum quis rerum necessitatibus animi
      voluptatum pariatur explicabo, cum laboriosam totam placeat fugit. Harum
      expedita repellendus deleniti maiores? Nobis maxime cumque repudiandae
      mollitia asperiores alias esse dolorum molestias beatae similique
      inventore, explicabo excepturi fuga fugiat cupiditate, iste veniam! Quis,
      dolor sunt nostrum tenetur tempora vel, repudiandae ea deleniti excepturi
      dicta incidunt suscipit dolores alias expedita hic magni eos culpa
      obcaecati nam repellat? Minus iusto ex temporibus eligendi. Voluptatem
      dolorem vero inventore, aut reprehenderit omnis. Iusto, recusandae
      tempora. Iste nisi, autem porro illum, dicta provident qui minus
      reiciendis non maxime soluta atque maiores commodi temporibus aliquam. Nam
      quae mollitia, nobis error ipsum ullam! Ipsum dolores atque optio totam
      dicta veritatis hic ea modi saepe, quaerat eveniet. Nam provident quis hic
      nulla quasi porro minus, velit repudiandae asperiores distinctio
      architecto ducimus earum mollitia? Exercitationem voluptate non quibusdam
      sunt blanditiis asperiores deserunt nulla nisi, nihil sequi dolor nemo
      perspiciatis ad modi dicta quisquam quaerat provident praesentium, beatae
      laudantium minus enim commodi eligendi. Eligendi voluptatem ipsa vel
      reprehenderit possimus facilis alias. Dolore voluptatum laudantium
      laboriosam, reiciendis alias impedit nulla recusandae nisi libero odio!
      Enim quia, beatae ipsa, ullam ipsum repellat sapiente, illum reprehenderit
      quam molestias mollitia. Placeat obcaecati omnis nihil quia vitae sit rem,
      ex, unde, natus nisi quam maiores consequatur praesentium impedit!
      Dignissimos rerum vero suscipit perferendis repellendus! Labore similique
      ad odio perspiciatis nihil perferendis sunt maxime aliquid asperiores
      dicta, sint aut quas veniam deleniti aspernatur error ipsum debitis
      adipisci ex eveniet velit. Eligendi nobis quod, quaerat blanditiis
      architecto illum fuga libero quis ut quos consequatur quisquam doloremque
      nemo nesciunt facilis ullam, laboriosam sapiente molestias cumque nulla
      non recusandae soluta repudiandae! In id vero eum ut quas qui voluptates
      ea quibusdam. Iste alias, adipisci dolores mollitia quibusdam, minima
      expedita odit nihil assumenda pariatur soluta necessitatibus voluptates.
      Rem laudantium beatae, quisquam commodi id repellendus vel consectetur
      rerum magnam odio voluptate accusantium illum voluptatem obcaecati
      laboriosam dicta ut error saepe, nulla nisi facilis quidem mollitia,
      impedit aut! Rem ab similique vitae, corporis itaque libero sunt officiis
      aspernatur ducimus accusamus quidem optio eaque minima nemo quam facilis
      recusandae enim eius et vero sed deleniti cupiditate animi! Temporibus ea
      aspernatur maxime, rerum quibusdam, odit tempore quasi ipsa beatae quaerat
      ut. Voluptatem placeat, dolorum voluptas commodi dicta deserunt recusandae
      ipsam libero, ex molestias laboriosam atque magnam temporibus nihil itaque
      officiis facilis rem reprehenderit minus! Tempore expedita similique hic
      consequuntur! Deleniti harum sed officia dolorum ipsum neque, fugit natus
      sapiente laudantium nisi dolorem aliquid placeat veritatis dolor optio ea
      beatae molestiae possimus necessitatibus repellat ipsa quas earum sit
      laborum. Dolores numquam doloremque veniam est fugit iste voluptates
      nobis, tenetur unde laborum doloribus eligendi nulla ipsa. Omnis
      laboriosam sint consequuntur provident, distinctio quas voluptate vitae
      incidunt explicabo reprehenderit aperiam, asperiores mollitia praesentium
      quos! Quibusdam eius repellendus aliquam perspiciatis facilis
      reprehenderit distinctio eaque, illo nihil aspernatur assumenda expedita
      dolor ex iure deserunt quos ad? Reiciendis consequatur iste voluptate
      quibusdam eius voluptatum, veritatis inventore necessitatibus! Autem odio
      saepe porro neque ipsam pariatur unde dolore illo, reiciendis quisquam
      incidunt voluptates optio accusantium. Ea odio est, eius modi iure earum
      aspernatur distinctio totam hic, soluta suscipit, placeat esse debitis?
      Soluta earum quod in fugit rerum corporis aut facilis esse, aperiam
      officiis, illum cupiditate fuga eveniet accusamus provident commodi
      repellendus, quaerat porro incidunt laudantium eligendi quidem architecto!
      Deserunt excepturi mollitia dolorem officiis quis rem pariatur illum eum
      quisquam blanditiis aliquid, libero, sit adipisci! Sint deserunt
      repellendus delectus voluptate, ipsum earum quasi consequatur nihil!
      Similique earum facilis saepe, alias magni ex natus. Quas voluptatem quo
      repellat sed nesciunt sunt ipsum odio ullam voluptates quaerat
      reprehenderit illo ipsam tempore nam consequuntur minus expedita rerum,
      dolorum dolorem laborum doloribus eos. Quos cumque saepe impedit?
    </div>
    <button disabled class="agree-button">약관에 동의합니다</button>

    <script>
      window.addEventListener('scroll', function () {
        // console.log('scrollY: ' + window.scrollY);
        // console.log('scrollX: ' + window.scrollX);
        // window.scrollTo(0,200)
        // window.scrollBy(0,2)
        // console.log("scrollY: "+$(window).scrollTop());
        // $(window).scrollTop(500)
        if (window.scrollY > 100) {
          $('.logo_img').css('height', '48px');
          $('.logo_text').css('fontSize', '21px');
        } else {
          $('.logo_img').css('height', '64px');
          $('.logo_text').css('fontSize', '28px');
        }

        //전체 페이지 스크롤 비율 = 현재 스크롤 위치/스크롤 가능한 양*100

        console.log(
          $(window).scrollTop() / (window.scrollHeight - window.clientHeight)
        ) * 100;
        $('.scroll-progress').css(
          'width',
          ($(window).scrollTop() /
            (document.querySelector('html').scrollHeight -
              document.querySelector('html').clientHeight)) *
            100 +
            '%'
        );
      });

      $('.lorem').on('scroll', function () {
        console.log('scrollTop: ' + document.querySelector('.lorem').scrollTop);
        console.log(
          'scrollHeight: ' + document.querySelector('.lorem').scrollHeight
        );
        console.log(
          'clientHeight: ' + document.querySelector('.lorem').clientHeight
        );

        var scrollTop = document.querySelector('.lorem').scrollTop;
        var scrollHeight = document.querySelector('.lorem').scrollHeight;
        var clientHeight = document.querySelector('.lorem').clientHeight;
        if (scrollTop + clientHeight >= scrollHeight - 10) {
          $('.agree-button').prop('disabled', false);
        }
      });

      $('.agree-button').on('click', function () {
        $('.agree-button').toggleClass('agreed');
      });
    </script>
  </body>
</html>
